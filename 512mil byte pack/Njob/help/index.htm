<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>njob</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style><!--
body
		{
		background:#CECECE;
		width:100%;
		height:100%;
		margin:0px;
		padding:0px;
		border:0px;
		font:11px/13px Tahoma, Verdana;
		color:#303030;
		}
h1
		{
		margin-top:33px;
		font:14px Tahoma, Verdana;
		font-weight:bold;
		page-break-after:avoid;
		}
h2
		{
		font:13px Tahoma, Verdana;
		font-weight:bold;
		page-break-after:avoid;
		}
--></style>
</head>
<body link="#7F7FFF" vlink="#7F7FFF">
<table width="100%" style="height:103px" cellspacing="0" cellpadding="0" background="img/_bgtop.jpg"><tr><td></td></tr></table>
<div style="position:absolute;top:30px;left:40px;"><img src="img/_njob.png"></div>

<div style="position:absolute;top:26px;left:630px;">
<p style="font:9px/11px Tahoma, Verdana;color:#808080">
Please send feedback to<br>
<a href="mailto:chollemeersch@gmail.com">chollemeersch@gmail.com</a><br>
or <a href="mailto:pboehme@gmail.com">pboehme@gmail.com</a><br>
</p></div>

<div style="position:absolute;top:60px;left:80px;width:666px;">
	<!--div style="margin-top:33px; height:1px; width:666px; background-color:#C0C0C0;"></div-->

	<h1>
	Download
	</h1>

	<p>
	This software is still in development and undergoing frequent changes. The latest build is available <a href="http://charles.hollemeersch.net/njob/">here</a>.
	</p>

	<h1>
	Introduction
	</h1>

  <p>Njob is a simple tool that supports a number of filters related to normalmapping and texture creation. Its focus lies on portability and quick interaction.
	</ul>
	<p>v1.0 Features:</p>
	<ul>
		<li>Convert photographs to heightmaps</li>
		<li>Convert normalmaps back to heightmaps</li>
		<li>Generate ambient occlusion from height and normal maps</li>
		<li>Convert heightmaps to normalmaps</li>
		<li>Reads/Writes most common image formats, copy paste between other apps</li>
		<li>Keyboard shortcuts for all functions</li>
	</ul>
	<p>Planned Features:</p>
	<ul>
		<li>Real time 3D preview</li>
		<li>Zooming</li>
	</ul>


	<img src="img/njob_overview.png">

	<h1>
	Using njob
	</h1>

	<h2>
	Getting data in and out of njob
	</h2>

	<p>
	You can load and save images via the file menu. Njob uses the FreeImage open source image library and can read a wide variety of formats. It writes files in BMP, PNG, TIFF or TGA formats.
	</p>

	<p>
	You can also copy-paste images with njob which may be quicker when interacting with other applications such as Photoshop.
	</p>

	<h2>
	Setting the normal format
	</h2>

	<p>
	If your engine uses a nonstandard normal format it is important to set up njob correctly before using any of the normal mapping functions. Set the normal format in Edit -> Normal Format (Ctrl+P).
	</p>

	<h2>
	Maintaining repeating textures
	</h2>

	<p>
	Njob can properly handle tiling textures without introducing unwanted seams. You can mark your source imagery as tiling in the setup screen (Ctrl+P).
	</p>

	<h2>
	Converting photographs to height maps
	</h2>

	<p>
	This filter tries to convert a photograph to a height map by analyzing the lighting at various frequencies. While it doesn't provide correct depth maps the resulting depth maps are usually a lot better than various other simple techniques such as grayscale conversion.
	</p>

	<p>
	To get optimal results with the height map filter provide it with a source photograph taken under "overcast" conditions. The tool works best on uniform smooth lighting without any harsh shadows.
	</p>

	<p>
	Also quickly varying albeido (diffuse color) of the underlying material may confuse this filter, for example black tiles with white grout would detoriate the height map results.
	</p>

	<h2>
	Converting normal maps to height maps
	</h2>

	<p>
	This filter converts a normal map back to a height map. Note that this will not necessarily result in the original height map the normal map was generated from. Especially for normal maps generated by tracing high poly models this is an approximate operation and is not equivalent to a depth trace.
	</p>

	<h2>
	Converting height maps to normal maps
	</h2>

	<p>
	You feed it a heightmap and it returns a normalmap - this filter is mainly included for completeness. By using the "crispy bacon" estimation you can generate sharper normalmaps than most other programs. The disadvantage of this mode is that the normals will be shifted by half a pixel.  (It is unlikely that this will be an issue, but you can solve this by offset the normal map texture coordinates by half a pixel in the shader).
	</p>

	<p>
	The image below shows a comparison between traditional and crispy modes using the same heightmap input:
	</p>

	<img src="img/crispy_bacon.png">

	<h2>
	Converting height & normal maps to ambient occlusion
	</h2>

	<p>
	This filter generates a local ambient occlusion map from a given height or normal map. This may be cheaper than doing a full AO trace on your highpoly and it can also provide AO for custom made detail normals not present in the highpoly.
	</p>

	<h2>
	Smoothing out gaps in a normal map
	</h2>

	<img src="img/smoothfill.png" align="right">

	<p>
	If for some reason your normal map contains gaps like in between UV seams, or areas where highres geometry was missed by the renderer, you can use this function to add smooth padding and normalize these areas. Currently, njob can either use pixels with invalid normals (black, grey, etc) or an image's alpha channel as a mask for this operation.
	</p>

	<h1>
	Hotkeys
	</h1>

	<h2>
	Functions
	</h2>

	<table width="100%" cellspacing="0" cellpadding="0">
	<tr>	<td valign="top" width="100">0</td>	<td valign="top">Diffusemap > Heightmap</td></tr>
	<tr>	<td valign="top" width="100">1</td>	<td valign="top">Normalmap > Heightmap</td></tr>
	<tr>	<td valign="top" width="100">2</td>	<td valign="top">Normalmap > Ambient Occlusion</td></tr>
	<tr>	<td valign="top" width="100">3</td>	<td valign="top">Smooth edge padding</td></tr>
	<tr>	<td valign="top" width="100">4</td>	<td valign="top">Heightmap > Normalmap</td></tr>
	<tr>	<td valign="top" width="100">5</td>	<td valign="top">Heightmap > Ambient Occlusion</td></tr>
	</table>

	<h2>
	Misc
	</h2>

	<table width="100%" cellspacing="0" cellpadding="0">
	<tr>	<td valign="top" width="100">Ctrl+O</td>			<td valign="top">Open (also: double click canvas)</td></tr>
	<tr>	<td valign="top" width="100">Ctrl+S</td>			<td valign="top">Save</td></tr>
	<tr>	<td valign="top" width="100">Ctrl+C</td>			<td valign="top">Copy to clipboard</td></tr>
	<tr>	<td valign="top" width="100">Ctrl+V</td>			<td valign="top">Paste from clipboard</td></tr>
	<tr>	<td valign="top" width="100">Ctrl+Z</td>			<td valign="top">Undo</td></tr>
	<tr>	<td valign="top" width="100">Ctrl+Y</td>			<td valign="top">Redo</td></tr>
	<tr>	<td valign="top" width="100">Ctrl+N, Ctrl+P</td>	<td valign="top">Set Normalmap format</td></tr>
	<!-- tr>	<td valign="top" width="100">Ctrl+MWheel, +/-</td>	<td valign="top">Zoom In/Out</td></tr -->
	<tr>	<td valign="top" width="100">Space+LMB</td>			<td valign="top">Pan</td></tr>
	<tr>	<td valign="top" width="100">F1</td>				<td valign="top">Help</td></tr>
	<tr>	<td valign="top" width="100">Alt+X, Alt+F4</td>		<td valign="top">Exit</td></tr>
	</table>

	<h1>
	Troubleshooting
	</h1>

	<h2>
	I converted a normalmap to a heightmap and it looks wrong
	</h2>

	<p>
	You may not have set the correct normal format for the source texture you provided.
	</p>

	<div style="height:80px;"></div>
</div>

</body>
</html>